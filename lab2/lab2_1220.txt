В данной программе мы используем 3 массива, первый хранит в себе номер итерации по индексу номера стека, это нужно для нахождения вершины стека. Второй массива хранит значения стека по индексу итерации. Третий массив хранит прошлые номера стеков. Далее при команде pop мы вызываем второй массив от первого, тем самым получая вершину стека, после этого нам нужно удалить вершину, это делается  заменой вершины первого массива на третий массив от первого и от номера стека, так мы получаем предпоследний элемент на выходном слоте. Особенность данной программы заключается в том, что если просто объявить третий массив как int, то программа не будет принята, поэтому нам приходится ограничиваться unsg. short, но чтобы поместить все значения в этот тип, при кол-ве итераций >65535 мы берем третий массив и помещаем в него значение первого массива и отнимаем от него 65535(так мы сможем поместить все значения) и заносим негативное значение во второй массив, так при перезаписи вершины стека мы сможем понять что имеем дело со значением >65535. Сам вывод же мы осуществляем от abs() функции.